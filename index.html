<!DOCTYPE html><html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ØªØ­ÙˆÙŠÙ„ Ø§Ù„ØµÙˆØª Ø¥Ù„Ù‰ Ù†Øµ</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white font-sans">
  <!-- Ø´Ø±ÙŠØ· Ø¹Ù„ÙˆÙŠ -->
  <header class="bg-gray-800 px-4 py-3 flex items-center justify-between shadow">
    <button onclick="toggleSidebar()" class="text-2xl">â˜°</button>
    <h1 class="text-xl font-bold">Ù…Ø­ÙˆÙ‘Ù„ Ø§Ù„ØµÙˆØª Ø¥Ù„Ù‰ Ù†Øµ</h1>
  </header>  <!-- Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠØ© -->  <aside id="sidebar" class="fixed top-0 right-0 w-64 h-full bg-gray-800 shadow-lg transform translate-x-full transition-transform duration-300 z-50">
    <div class="p-4">
      <h2 class="text-lg font-semibold mb-4">Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©</h2>
      <ul class="space-y-2">
        <li><a href="#" onclick="showArchive()" class="block hover:text-yellow-400">ğŸ—‚ï¸ Ø§Ù„Ø£Ø±Ø´ÙŠÙ</a></li>
        <li><a href="#" class="block hover:text-yellow-400">âš™ï¸ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</a></li>
        <li><a href="#" class="block hover:text-yellow-400">â„¹ï¸ Ø­ÙˆÙ„</a></li>
      </ul>
    </div>
  </aside>  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->  <main class="max-w-3xl mx-auto px-4 py-6">
    <div class="mb-6">
      <h2 class="text-2xl font-semibold mb-4">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªØ³Ø¬ÙŠÙ„</h2>
      <div id="output" class="bg-gray-800 p-4 rounded shadow min-h-[150px] text-lg">Ø³ÙŠØ¸Ù‡Ø± Ø§Ù„Ù†Øµ Ù‡Ù†Ø§...</div>
      <div id="timer" class="mt-2 text-yellow-400">Ø§Ù„Ù…Ø¯Ø©: 0 Ø«Ø§Ù†ÙŠØ©</div>
    </div><div class="flex flex-col items-center space-y-4">
  <button onclick="startRecording()" class="w-16 h-16 rounded-full bg-red-600 text-3xl shadow hover:bg-red-500">ğŸ¤</button>
  <button onclick="stopRecording()" class="px-6 py-2 rounded bg-gray-700 hover:bg-gray-600">â¹ï¸ Ø¥ÙŠÙ‚Ø§Ù</button>
</div>

  </main>  <script>
    let recognition;
    let startTime;
    let timerInterval;

    window.onload = function () {
      const saved = localStorage.getItem("lastTranscript");
      if (saved) document.getElementById("output").innerText = saved;
    };

    function toggleSidebar() {
      const sidebar = document.getElementById("sidebar");
      sidebar.classList.toggle("translate-x-full");
    }

    function showArchive() {
      const saved = localStorage.getItem("lastTranscript");
      if (saved) alert("ğŸ—‚ï¸ Ø¢Ø®Ø± Ù†Øµ Ù…Ø­ÙÙˆØ¸:\n\n" + saved);
      else alert("Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†Øµ Ù…Ø­ÙÙˆØ¸ Ø¨Ø¹Ø¯.");
    }

    function startRecording() {
      if (!('webkitSpeechRecognition' in window)) {
        alert("Ù…ØªØµÙØ­Ùƒ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ù…ÙŠØ²Ø© Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª");
        return;
      }

      recognition = new webkitSpeechRecognition();
      recognition.lang = "ar-SA";
      recognition.continuous = true;
      recognition.interimResults = false;

      recognition.onresult = function (event) {
        const transcript = event.results[event.results.length - 1][0].transcript;
        document.getElementById("output").innerText += transcript + " ";
      };

      recognition.onerror = function () {
        alert("Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„ØªØ³Ø¬ÙŠÙ„");
      };

      recognition.start();

      startTime = Date.now();
      timerInterval = setInterval(() => {
        const seconds = Math.floor((Date.now() - startTime) / 1000);
        document.getElementById("timer").innerText = `Ø§Ù„Ù…Ø¯Ø©: ${seconds} Ø«Ø§Ù†ÙŠØ©`;
      }, 1000);
    }

    function stopRecording() {
      if (recognition) {
        recognition.stop();
        clearInterval(timerInterval);
      }

      const finalText = document.getElementById("output").innerText.trim();
      if (finalText) localStorage.setItem("lastTranscript", finalText);
    }
  </script></body>
</html>